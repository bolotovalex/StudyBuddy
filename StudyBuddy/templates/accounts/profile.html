{% extends 'base.html' %}

{% block title %}Мой Профиль{% endblock %}

{% block page_title %}Профиль пользователя{% endblock %}

{% block content %}
<div class="container"> <!--style="max-width: 600px;">-->
    <div class="card">
        <div class="card-header">
            <h5>Информация о пользователе</h5>
        </div>
        <div class="card-body">
            <p><strong>Фамилия:</strong> {{ profile.last_name }}</p>
            <p><strong>Имя:</strong> {{ profile.first_name }}</p>
            <p><strong>Отчество:</strong> {{ profile.patronymic }}</p>
            <p><strong>Дата рождения:</strong> {{ profile.birth_date }}</p>
            <p><strong>Учебное заведение:</strong> {{ profile.institution }}</p>
            <p><strong>Факультет:</strong> {{ profile.faculty }}</p>
            <p><strong>Группа:</strong> {{ profile.study_group }}</p>
            <p><strong>Роль:</strong> {{ request.user.get_role_display }}</p>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header">
            <h5>Мои группы</h5>
        </div>
        <div class="card-body">
            <ul class="list-group">
                {% for group in request.user.study_groups.all %}
                    <li class="list-group-item">{{ group.name }}</li>
                {% empty %}
                    <li class="list-group-item">Вы не состоите ни в одной группе</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="mt-4 d-flex justify-content-between">
        {% if is_own_profile %}
        <a href="{% url 'accounts:edit_profile' %}" class="btn btn-warning">Редактировать профиль</a>
        <a href="{% url 'accounts:delete_account' %}" class="btn btn-danger">Удалить аккаунт</a>
        {% endif %}
    </div>
</div>
{% endblock %}


<!-- <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Мой Профиль</title>
</head>
<body>


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Мой Профиль</title>
</head>
<body>
    <h1>Профиль пользователя {{ request.user.username }}</h1>

    <p><strong>Фамилия:</strong> {{ profile.last_name }}</p>
    <p><strong>Имя:</strong> {{ profile.first_name }}</p>
    <p><strong>Отчество:</strong> {{ profile.patronymic }}</p>
    <p><strong>Дата рождения:</strong> {{ profile.birth_date }}</p>

    <p><strong>Учебное заведение:</strong> {{ profile.institution }}</p>
    <p><strong>Факультет:</strong> {{ profile.faculty }}</p>
    <p><strong>Группа:</strong> {{ profile.study_group }}</p>


    <p><strong>Роль:</strong> {{ request.user.get_role_display }}</p>

    <h2>Мои группы</h2>
<ul>
    {% for group in request.user.study_groups.all %}
        <li>{{ group.name }}</li>
    {% empty %}
        <li>Вы не состоите ни в одной группе</li>
    {% endfor %}
</ul>


<!-- 
    Кнопки
    {% if is_own_profile %}
    <p>
        <a href="{% url 'accounts:edit_profile' %}">Редактировать профиль</a>
    </p>
    <p>
        <a href="{% url 'accounts:delete_account' %}">Удалить профиль и учетную запись</a>
    </p>

    <p><a href="{% url 'accounts:logout' %}">Выйти</a></p>
<div style="margin-top: 20px;">
        <a href="{% url 'groups:group_list' %}" style="margin-right: 10px;">Список групп</a>
        <a href="{% url 'accounts:logout' %}" style="color: red;">Выход</a>
        {% endif %}
    </div>
</body>
</html>-->